<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>그랩마켓</title>
        <link rel="stylesheet" href="style.css" />
        <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    </head>
    <body>
        <div id="header">
            <div id="header-area">
                <img src="./images/icons/logo.png" alt="" />
            </div>
        </div>
        <div id="body">
            <div id="banner">
                <img src="./images/banners/banner1.png" alt="" />
            </div>
            <h1>판매되는 상품들</h1>
            <div id="product-list"></div>
        </div>
        <div id="footer"></div>
        <script>
            axios
                .get(
                    "https://c67feb93-fe43-4341-a3b0-aebc0da65a0e.mock.pstmn.io/products"
                )
                .then(function (result) {
                    console.log("통신 결과 : ", result);
                    const products = result.data.products;

                    let productsHtml = "";
                    for (var i = 0; i < products.length; i++) {
                        let product = products[i];
                        productsHtml +=
                            '<div class="product-card">' +
                            "<div>" +
                            '<img class="product-img" src="' +
                            product.imageUrl +
                            '" />' +
                            "</div>" +
                            '<div class="product-contents">' +
                            '<span class="product-name">' +
                            product.name +
                            "</span>" +
                            '<span class="product-price">' +
                            product.price +
                            " 원" +
                            "</span>" +
                            '<div class="product-seller">' +
                            '<img class="product-avatar" src="./images/icons/avatar.png" />' +
                            product.seller +
                            "</div>" +
                            "</div>" +
                            "</div>";
                    }

                    document.querySelector("#product-list").innerHTML =
                        productsHtml;
                })
                .catch(function (error) {
                    console.error("error 발생 : ", error);
                });
        </script>
    </body>
</html>
